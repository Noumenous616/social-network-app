(this["webpackJsonpreact-first-lesson"]=this["webpackJsonpreact-first-lesson"]||[]).push([[3],{340:function(e,t,s){e.exports={userPage:"ProfileInfo_userPage__1Ds-R",descriptionBlock:"ProfileInfo_descriptionBlock__1QVF2",redactor:"ProfileInfo_redactor__L7map",avatar:"ProfileInfo_avatar__2irJs",contact:"ProfileInfo_contact__-Z8bW",banner:"ProfileInfo_banner__-KSyU"}},341:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__fQSIy"}},342:function(e,t,s){e.exports={item:"Post_item__38fA6"}},344:function(e,t,s){"use strict";s.r(t);var c=s(3),o=s(1),i=s(33),r=s(34),n=s(36),a=s(35),l=s(0),j=s.n(l),u=s(56),b=s(340),d=s.n(b),f=s(48),p=function(e){var t=Object(l.useState)(!1),s=Object(u.a)(t,2),c=s[0],i=s[1],r=Object(l.useState)(e.status),n=Object(u.a)(r,2),a=n[0],j=n[1];Object(l.useEffect)((function(){j(e.status)}),[e.status]);return Object(o.jsxs)("div",{children:[!c&&Object(o.jsxs)("div",{children:[" ",Object(o.jsx)("b",{children:"Status: "}),Object(o.jsx)("span",{onDoubleClick:function(){i(!0)},children:e.status||"----"})]}),c&&Object(o.jsx)("div",{children:Object(o.jsx)("input",{onChange:function(e){j(e.currentTarget.value)},onBlur:function(){i(!1),e.updateStatus(a)},value:a,autoFocus:!0})})]})},h=s.p+"static/media/photo.3972f5db.jpeg",O=function(e){var t=e.contactTitle,s=e.contactValue;return Object(o.jsxs)("div",{className:d.a.contact,children:[Object(o.jsx)("b",{children:t}),": ",s]})},x=s(44),v=s(138),m=s(57),P=s.n(m),g=Object(v.a)({form:"editProfile"})((function(e){return Object(o.jsxs)("form",{className:d.a.redactor,onSubmit:e.handleSubmit,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:e.toGoEditMode,children:"Save"}),e.error&&Object(o.jsx)("div",{className:P.a.formSummaryError,children:e.error})]}),Object(o.jsx)("b",{children:"Fullname:"})," ",Object(x.c)("Full name","fullName",[],x.a),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"Looking for a job: "})," ",Object(x.c)("","lookingForAJob",[],x.a,"checkbox")]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"My Proffesional skills: "})," ",Object(x.c)("My Proffesional skills","lookingForAJobDescription",[],x.b)]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"About me: "})," ",Object(x.c)("About me","aboutMe",[],x.b)]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"Contacts "})," : ",Object.keys(e.profile.contacts).map((function(e){return Object(o.jsx)("div",{children:Object(o.jsxs)("b",{children:[e,":",Object(x.c)(e,"contacts."+e,[],x.a)," "]})})}))]})]})})),k=function(e){return Object(o.jsxs)("div",{className:d.a.descriptionBlock,children:[e.isOwner&&Object(o.jsx)("div",{children:Object(o.jsx)("button",{onClick:e.toGoEditMode,children:"Edit"})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("img",{src:e.profile.photos.large||h,className:d.a.avatar}),e.isOwner&&Object(o.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"Fullname:"})," ",e.profile.fullName,Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"Looking for a job: "})," ",e.profile.lookingForAJob?"yes":"no"]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"My Proffesional skills: "})," ",e.profile.lookingForAJobDescription]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"About me: "})," ",e.profile.aboutMe]}),Object(o.jsx)("div",{children:Object(o.jsx)(p,{updateStatus:e.updateStatus,status:e.status})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("b",{children:"Contacts "})," : ",Object.keys(e.profile.contacts).map((function(t){return Object(o.jsx)(O,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]})]})]})]})},S=function(e){var t=Object(l.useState)(!1),s=Object(u.a)(t,2),c=s[0],i=s[1];return e.profile?Object(o.jsxs)("div",{className:d.a.userPage,children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{className:d.a.userSettings,children:c?Object(o.jsx)(g,{profile:e.profile,initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){i(!1)}))}}):Object(o.jsx)(k,{toGoEditMode:function(){i(!0)},profile:e.profile,isOwner:e.isOwner,updateStatus:e.updateStatus,status:e.status,savePhoto:e.savePhoto})}),Object(o.jsx)("div",{className:d.a.banner,children:Object(o.jsx)("img",{src:"https://p.bigstockphoto.com/GeFvQkBbSLaMdpKXF1Zv_bigstock-Aerial-View-Of-Blue-Lakes-And--227291596.jpg"})})]}):Object(o.jsx)(f.a,{})},_=s(106),y=s(13),w=s(341),A=s.n(w),I=s(342),F=s.n(I),N=function(e){return Object(o.jsxs)("div",{className:F.a.item,children:[Object(o.jsx)("img",{src:"https://vokrug-tv.ru/pic/person/2/b/f/4/2bf448098b7badf3b37e87c510da29bc.jpeg"}),e.message,Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"like"})," ",e.likeCount]})]})},B=s(97),C=s(55),M=Object(C.a)(10),E=j.a.memo((function(e){console.log("render yoy");var t=e.posts.map((function(e){return Object(o.jsx)(N,{message:e.message,likeCount:e.likesCount})}));return Object(o.jsxs)("div",{className:A.a.postsBlock,children:[Object(o.jsx)("h3",{children:"my posts"}),Object(o.jsx)(J,{onSubmit:function(t){e.addPost(t.newPostBody)}}),t]})})),J=Object(v.a)({form:"ProfileAddPostForm"})((function(e){return Object(o.jsx)("div",{children:Object(o.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(o.jsx)("div",{children:Object(o.jsx)(B.a,{component:x.b,name:"newPostBody",placeholder:"Enter your message",validate:[C.b,M]})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:"Add post"})})]})})})),D=E,U=Object(y.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(_.a)(t))}}}))(D),L=function(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)(S,{saveProfile:e.saveProfile,savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,updateStatus:e.updateStatus,status:e.status}),Object(o.jsx)(U,{})]})},T=s(11),V=s(105),G=s(10),Q=function(e){Object(n.a)(s,e);var t=Object(a.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authoraizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsx)(L,Object(c.a)(Object(c.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),s}(j.a.Component);t.default=Object(G.d)(Object(y.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authoraizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:_.d,getStatus:_.c,updateStatus:_.g,savePhoto:_.e,saveProfile:_.f}),T.f,V.a)(Q)}}]);
//# sourceMappingURL=3.c00c730e.chunk.js.map